{
  "permissions": {
    "allow": [
      "Bash(curl:*)",
      "Bash(git stash:*)",
      "Bash(ls:*)",
      "Bash(npx tsc:*)",
      "Bash(npm run lint:*)",
      "Bash(npm run dev:*)",
      "Bash(lsof:*)",
      "Bash(pkill:*)",
      "Bash(npm install:*)",
      "Bash(npm run build:*)",
      "Bash(git add:*)",
      "Bash(git reset:*)",
      "Bash(git commit -m \"$\\(cat <<''EOF''\nAdd Edge runtime config for Cloudflare Pages compatibility\n\n- Add edge runtime to /auth/callback route\n- Add edge runtime to /community/[id] page\n- Add Lambda deployment scripts \\(deploy.sh, log.sh\\)\n- Update serverless config\n- Add GitHub Actions Dockerfile\n\nCo-Authored-By: Claude Sonnet 4.5 <noreply@anthropic.com>\nEOF\n\\)\")",
      "Bash(git push:*)",
      "mcp__supabase__list_projects",
      "mcp__supabase__get_project",
      "mcp__supabase__list_tables",
      "mcp__supabase__apply_migration",
      "mcp__supabase__execute_sql",
      "Bash(git commit:*)",
      "Bash(npx @cloudflare/next-on-pages@1)",
      "Bash(npm run pages:build:*)",
      "Bash(/Users/realmojo/Desktop/m/pflow/DEPLOYMENT.md << 'EOF'\n# Cloudflare Pages 배포 가이드 \\(OpenNext\\)\n\n## 로컬에서 배포\n\n### 1. Wrangler 로그인\n```bash\nnpx wrangler login\n```\n\n### 2. 빌드 및 배포\n```bash\nnpm run pages:build\nnpx wrangler pages deploy .open-next --project-name=pflow\n```\n\n## Cloudflare Pages 대시보드 설정\n\n### 빌드 설정\n- **Build command**: `npm run pages:build`\n- **Build output directory**: `.open-next`\n- **Root directory**: `/`\n\n### 환경 변수\nCloudflare Pages 대시보드에서 다음 환경 변수를 설정하세요:\n- `NEXT_PUBLIC_SUPABASE_URL`\n- `NEXT_PUBLIC_SUPABASE_ANON_KEY`\n- `SUPABASE_SERVICE_ROLE_KEY`\n- `NEXT_PUBLIC_NAVER_CLIENT_ID`\n- `NAVER_CLIENT_SECRET`\n- `RESEND_API_KEY`\n- `RESEND_FROM_EMAIL`\n- `PFLOW_BASE_URL`\n\n### Node.js 버전\n- **Node.js version**: `22` 이상 권장\n\n## 참고 자료\n- [OpenNext Cloudflare 문서]\\(https://opennext.js.org/cloudflare\\)\n- [Wrangler Pages 배포]\\(https://developers.cloudflare.com/pages/framework-guides/deploy-a-nextjs-site/\\)\nEOF)",
      "Bash(.open-next/_routes.json << 'EOF'\n{\n  \"version\": 1,\n  \"include\": [\"/*\"],\n  \"exclude\": [\n    \"/_next/static/*\",\n    \"/icons/*\",\n    \"/images/*\",\n    \"/*.ico\",\n    \"/*.txt\",\n    \"/*.html\"\n  ]\n}\nEOF)",
      "Bash(git restore:*)",
      "Bash(git rm:*)",
      "Bash(chmod:*)",
      "Bash(grep:*)",
      "Skill(dev)",
      "Skill(dev:*)",
      "Bash(/tmp/test_stock_list.sh:*)",
      "Bash(__NEW_LINE_3030be8ed07ac66e__ bash /tmp/test_stock_list.sh)",
      "Bash(/tmp/open_browser.sh << 'EOF'\n#!/bin/bash\n\necho \"브라우저에서 테스트할 페이지를 엽니다...\"\necho \"\"\necho \"다음 URL들이 브라우저에서 로드됩니다:\"\necho \"1. http://localhost:3001/crypto\"\necho \"2. http://localhost:3001/world\"\necho \"3. http://localhost:3001/domestic\"\necho \"\"\necho \"각 페이지에서 다음을 확인하세요:\"\necho \"- 처음에 10개 항목만 표시되는지\"\necho \"- 더보기 버튼 \\(10개 이상인 경우\\)이 있는지\"\necho \"- 더보기 클릭 시 전체 항목이 확장되는지\"\necho \"- 접기 버튼 클릭 시 다시 10개로 줄어드는지\"\necho \"- UI가 깔끔하고 모던하게 보이는지\"\necho \"- 호버 효과가 작동하는지\"\necho \"\"\n\n# Use open command on macOS to open in default browser\nopen \"http://localhost:3001/crypto\" &\nsleep 2\nopen \"http://localhost:3001/world\" &\nsleep 2\nopen \"http://localhost:3001/domestic\" &\n\necho \"✓ 브라우저 탭들이 열렸습니다. 각 페이지를 확인해주세요.\"\nEOF)",
      "Bash(__NEW_LINE_3463894e859fbf74__ chmod +x /tmp/open_browser.sh)",
      "Bash(bash:*)",
      "Bash(/tmp/component_logic_test.js << 'EOF'\n// StockList 컴포넌트의 핵심 로직 검증\n\nconsole.log\\('=== StockList 컴포넌트 로직 검증 ===\\\\n'\\);\n\n// 1. INITIAL_DISPLAY_COUNT 검증\nconst INITIAL_DISPLAY_COUNT = 10;\nconsole.log\\(`1. 초기 표시 개수: ${INITIAL_DISPLAY_COUNT}개`\\);\nconsole.log\\('   ✓ 상수값 올바름\\\\n'\\);\n\n// 2. 더보기 버튼 표시 로직 검증\nconst testCases = [\n  { total: 5, shouldShowMore: false, desc: '5개: 버튼 미표시' },\n  { total: 10, shouldShowMore: false, desc: '10개: 버튼 미표시' },\n  { total: 11, shouldShowMore: true, desc: '11개: 버튼 표시 \\(+1개\\)' },\n  { total: 100, shouldShowMore: true, desc: '100개: 버튼 표시 \\(+90개\\)' },\n  { total: 237, shouldShowMore: true, desc: '237개: 버튼 표시 \\(+227개\\)' },\n];\n\nconsole.log\\('2. 더보기 버튼 표시 로직:'\\);\ntestCases.forEach\\(tc => {\n  const shouldShow = tc.total > INITIAL_DISPLAY_COUNT;\n  if \\(shouldShow === tc.shouldShowMore\\) {\n    console.log\\(`   ✓ ${tc.desc}`\\);\n  } else {\n    console.log\\(`   ✗ ${tc.desc}`\\);\n  }\n}\\);\n\n// 3. 상태 관리 검증\nconsole.log\\('\\\\n3. 상태 관리:'\\);\nconsole.log\\('   ✓ showAll 상태로 접기/펼치기 토글 가능'\\);\nconsole.log\\('   ✓ isLoading 상태로 로딩 중 스켈레톤 표시'\\);\nconsole.log\\('   ✓ error 상태로 에러 메시지 표시'\\);\nconsole.log\\('   ✓ stocks 배열로 데이터 관리'\\);\n\n// 4. 필터링 로직 검증\nconsole.log\\('\\\\n4. 데이터 필터링 로직:'\\);\nconst sampleData = [\n  { code: 'KRW-BTC', name: 'Bitcoin', closePrice: 100000 },\n  { code: 'KRW-ETH', name: 'Ethereum', closePrice: 5000 },\n  { code: null, name: 'Invalid1', closePrice: 1000 }, // code 없음 - 필터됨\n  { code: 'KRW-XRP', name: null, closePrice: 1000 }, // name 없음 - 필터됨\n  { code: 'KRW-ADA', name: 'Cardano', closePrice: null }, // closePrice 없음 - 필터됨\n];\n\nconst filtered = sampleData.filter\\(item => item?.code && item?.name && item?.closePrice\\);\nconsole.log\\(`   ✓ 입력 데이터: ${sampleData.length}개`\\);\nconsole.log\\(`   ✓ 필터링 후: ${filtered.length}개 \\(불완전한 데이터 제거\\)`\\);\n\n// 5. UI 요소 검증\nconsole.log\\('\\\\n5. UI 요소:'\\);\nconsole.log\\('   ✓ 섹션 헤더 \\(제목 + 종목 개수 배지\\)'\\);\nconsole.log\\('   ✓ 로딩 상태: 10개의 스켈레톤 아이템'\\);\nconsole.log\\('   ✓ 에러 상태: 에러 메시지 + 다시시도 버튼'\\);\nconsole.log\\('   ✓ 빈 데이터: 메시지 표시'\\);\nconsole.log\\('   ✓ StockRow: 각 항목 렌더링'\\);\nconsole.log\\('   ✓ 더보기/접기 버튼: 조건부 표시 \\(count > 10\\)'\\);\n\n// 6. 스타일 검증\nconsole.log\\('\\\\n6. 스타일 적용:'\\);\nconsole.log\\('   ✓ 섹션: rounded-3xl, border-2, gradient 배경'\\);\nconsole.log\\('   ✓ 헤더: border-bottom, gradient 배경'\\);\nconsole.log\\('   ✓ 그리드: responsive \\(md:grid-cols-2, lg:grid-cols-2, xl:grid-cols-2\\)'\\);\nconsole.log\\('   ✓ StockRow: 호버 효과, scale, shadow, transition'\\);\nconsole.log\\('   ✓ 버튼: gradient, rounded-2xl, border, hover 효과'\\);\n\nconsole.log\\('\\\\n=== 검증 완료 ==='\\);\nEOF)",
      "Bash(__NEW_LINE_dea1dbc826c8c580__ node /tmp/component_logic_test.js)",
      "Bash(/tmp/test_interaction.html << 'EOF'\n<!DOCTYPE html>\n<html lang=\"ko\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <title>StockList 상호작용 테스트</title>\n  <style>\n    body {\n      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;\n      background: #f5f5f5;\n      padding: 20px;\n      margin: 0;\n    }\n    .test-container {\n      max-width: 1000px;\n      margin: 0 auto;\n      background: white;\n      border-radius: 12px;\n      padding: 20px;\n      box-shadow: 0 2px 8px rgba\\(0,0,0,0.1\\);\n    }\n    h1 { margin-top: 0; color: #333; }\n    .section { margin: 20px 0; padding: 15px; background: #f9f9f9; border-radius: 8px; }\n    .item { \n      padding: 12px;\n      margin: 8px 0;\n      background: white;\n      border: 1px solid #e5e5e5;\n      border-radius: 8px;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      transition: all 0.3s ease;\n    }\n    .item:hover {\n      background: #f5f9ff;\n      border-color: #2563eb;\n      transform: translateY\\(-2px\\);\n      box-shadow: 0 4px 12px rgba\\(37,99,235,0.15\\);\n    }\n    .item-info { flex: 1; }\n    .item-name { font-weight: 600; color: #1f2937; }\n    .item-code { font-size: 0.85em; color: #6b7280; margin-top: 4px; }\n    .item-price { text-align: right; }\n    .item-price-value { font-size: 1.2em; font-weight: 700; color: #1f2937; }\n    .item-price-change { \n      font-size: 0.9em;\n      margin-top: 4px;\n      padding: 4px 8px;\n      border-radius: 12px;\n      display: inline-block;\n    }\n    .rise { color: #dc2626; background: rgba\\(220,38,38,0.1\\); }\n    .fall { color: #2563eb; background: rgba\\(37,99,235,0.1\\); }\n    button {\n      background: linear-gradient\\(135deg, #3b82f6, #2563eb\\);\n      color: white;\n      border: none;\n      padding: 10px 20px;\n      border-radius: 8px;\n      cursor: pointer;\n      font-weight: 600;\n      transition: all 0.3s ease;\n    }\n    button:hover {\n      background: linear-gradient\\(135deg, #2563eb, #1d4ed8\\);\n      box-shadow: 0 4px 12px rgba\\(37,99,235,0.3\\);\n      transform: translateY\\(-2px\\);\n    }\n    .hidden { display: none; }\n    .button-group { text-align: center; margin: 20px 0; }\n  </style>\n</head>\n<body>\n  <div class=\"test-container\">\n    <h1>StockList 컴포넌트 상호작용 테스트</h1>\n    \n    <div class=\"section\">\n      <h3>테스트 시나리오</h3>\n      <p>다음 상황을 검증합니다:</p>\n      <ul>\n        <li>초기 로드 시 10개만 표시</li>\n        <li>10개 이상일 때 \"더보기\" 버튼 표시</li>\n        <li>\"더보기\" 클릭 시 전체 목록 확장</li>\n        <li>\"접기\" 클릭 시 다시 10개로 축소</li>\n        <li>호버 효과 작동</li>\n      </ul>\n    </div>\n\n    <div class=\"section\">\n      <h3>테스트 데이터 \\(암호화폐 예시\\)</h3>\n      <div id=\"listContainer\">\n        <!-- 항목들이 여기 생성됨 -->\n      </div>\n      <div class=\"button-group\">\n        <button id=\"toggleBtn\">더보기 +227개</button>\n      </div>\n    </div>\n\n    <div class=\"section\" id=\"results\" style=\"background: #f0fdf4; border: 1px solid #86efac;\">\n      <h3>✓ 테스트 결과</h3>\n      <ul id=\"resultList\">\n        <li id=\"result-init\">초기 로드: 대기 중...</li>\n        <li id=\"result-display\">표시 항목 수: 대기 중...</li>\n        <li id=\"result-button\">버튼 표시: 대기 중...</li>\n        <li id=\"result-toggle\">토글 기능: 대기 중...</li>\n        <li id=\"result-hover\">호버 효과: 대기 중...</li>\n      </ul>\n    </div>\n  </div>\n\n  <script>\n    // 테스트 데이터 \\(실제 API 응답과 유사\\)\n    const testData = [\n      { code: 'KRW-BTC', name: '비트코인', price: '95,500,000', change: '+1,200,000', ratio: '+1.27%', trend: 'rise' },\n      { code: 'KRW-ETH', name: '이더리움', price: '3,620,000', change: '+45,000', ratio: '+1.26%', trend: 'rise' },\n      { code: 'KRW-SOL', name: '솔라나', price: '185,000', change: '-2,000', ratio: '-1.07%', trend: 'fall' },\n      { code: 'KRW-XRP', name: '리플', price: '2,820', change: '+125', ratio: '+4.64%', trend: 'rise' },\n      { code: 'KRW-DOGE', name: '도지코인', price: '450', change: '+35', ratio: '+8.42%', trend: 'rise' },\n      { code: 'KRW-ADA', name: '카르다노', price: '1,200', change: '-20', ratio: '-1.64%', trend: 'fall' },\n      { code: 'KRW-AVAX', name: '아발란체', price: '160,000', change: '+5,200', ratio: '+3.36%', trend: 'rise' },\n      { code: 'KRW-MATIC', name: '폴리곤', price: '680', change: '+45', ratio: '+7.06%', trend: 'rise' },\n      { code: 'KRW-UNI', name: '유니스왑', price: '28,500', change: '+2,100', ratio: '+7.95%', trend: 'rise' },\n      { code: 'KRW-LINK', name: '체인링크', price: '45,000', change: '+1,500', ratio: '+3.44%', trend: 'rise' },\n      { code: 'KRW-ARB', name: '아비트럼', price: '2,850', change: '+150', ratio: '+5.56%', trend: 'rise' },\n      { code: 'KRW-OP', name: '옵티미즘', price: '3,200', change: '-80', ratio: '-2.44%', trend: 'fall' },\n    ];\n\n    let showAll = false;\n    const INITIAL_COUNT = 10;\n    let currentCount = INITIAL_COUNT;\n\n    function updateDisplay\\(\\) {\n      const container = document.getElementById\\('listContainer'\\);\n      const items = showAll ? testData : testData.slice\\(0, INITIAL_COUNT\\);\n      \n      container.innerHTML = items.map\\(item => `\n        <div class=\"item\">\n          <div class=\"item-info\">\n            <div class=\"item-name\">${item.name}</div>\n            <div class=\"item-code\">${item.code}</div>\n          </div>\n          <div class=\"item-price\">\n            <div class=\"item-price-value\">${item.price}</div>\n            <div class=\"item-price-change ${item.trend}\">${item.change} \\(${item.ratio}\\)</div>\n          </div>\n        </div>\n      `\\).join\\(''\\);\n      \n      currentCount = items.length;\n      updateResults\\(\\);\n    }\n\n    function updateButton\\(\\) {\n      const btn = document.getElementById\\('toggleBtn'\\);\n      if \\(testData.length > INITIAL_COUNT\\) {\n        if \\(showAll\\) {\n          btn.textContent = '접기';\n        } else {\n          btn.textContent = `더보기 +${testData.length - INITIAL_COUNT}개`;\n        }\n        btn.style.display = 'block';\n      } else {\n        btn.style.display = 'none';\n      }\n    }\n\n    function updateResults\\(\\) {\n      // 초기 로드\n      document.getElementById\\('result-init'\\).textContent = '✓ 초기 로드: 성공 \\(10개 항목 생성됨\\)';\n      \n      // 표시 항목 수\n      document.getElementById\\('result-display'\\).textContent = `✓ 표시 항목 수: ${currentCount}개 ${showAll ? '\\(전체\\)' : '\\(초기\\)'}`;\n      \n      // 버튼 표시\n      const btnVisible = testData.length > INITIAL_COUNT;\n      document.getElementById\\('result-button'\\).textContent = `✓ 버튼 표시: ${btnVisible ? '예 \\(10개 초과\\)' : '아니오 \\(10개 이하\\)'}`;\n      \n      // 토글 기능\n      document.getElementById\\('result-toggle'\\).textContent = `✓ 토글 기능: 작동 중 \\(현재: ${showAll ? '확장' : '축소'}\\)`;\n      \n      // 호버 효과\n      document.getElementById\\('result-hover'\\).textContent = '✓ 호버 효과: CSS 적용됨 \\(항목에 마우스를 올려 확인\\)';\n    }\n\n    document.getElementById\\('toggleBtn'\\).addEventListener\\('click', \\(\\) => {\n      showAll = !showAll;\n      updateDisplay\\(\\);\n      updateButton\\(\\);\n    }\\);\n\n    // 초기 렌더링\n    updateDisplay\\(\\);\n    updateButton\\(\\);\n  </script>\n</body>\n</html>\nEOF)",
      "Bash(__NEW_LINE_05b0a60b5548284c__ echo \"테스트 HTML 파일 생성 완료: /tmp/test_interaction.html\")",
      "Bash(1 grep -o 'KRW-\\\\w\\\\+' /tmp/crypto-full.html)",
      "Bash(xargs kill:*)",
      "Bash(node:*)",
      "Bash(npx shadcn@latest add:*)",
      "mcp__supabase__get_advisors",
      "Bash(done)",
      "Bash(python3 -c \":*)",
      "Bash(git remote add origin git@github.com:realmojo/pflow-inflation.git)",
      "Bash(git branch -M main)",
      "Bash(git remote set-url origin https://github.com/realmojo/pflow-inflation.git)",
      "Bash(sips -g all /Users/gshs/Desktop/m/pflow-inflation/public/favicon.png)",
      "Bash(brew list)",
      "Bash(pip3 list)",
      "Bash(pip3 install Pillow)",
      "Bash(pip3 install --user Pillow)",
      "Bash(python3 -c \"from PIL import Image; print\\(''ok''\\)\")",
      "Bash(python3 -m pip install --break-system-packages Pillow)",
      "WebFetch(domain:inflation.pflow.app)",
      "Bash(git -C /Users/gshs/Desktop/m/pflow-inflation status)",
      "Bash(git -C /Users/gshs/Desktop/m/pflow-inflation add app/[category]/[name]/page.tsx)",
      "Bash(git -C:*)"
    ]
  },
  "enableAllProjectMcpServers": true,
  "enabledMcpjsonServers": [
    "supabase"
  ]
}
